import{r as a,f as h,j as e,d as u,A as f}from"./index-D3XZIa4s.js";function j(){const[r,l]=a.useState(null),[n,i]=a.useState(!0),[c,d]=a.useState(!1),{isMobile:x,isDesktop:o}=h();if(a.useEffect(()=>{async function s(){try{i(!0);const t=await fetch(f+"/log",{method:"GET",credentials:"include"});if(t.ok){const m=await t.json();l(m)}t.ok||(t.status>=400&&t.status<500&&d(!0),t.status>=500&&d(!0))}catch{d(!0)}finally{i(!1)}}s()},[]),c)return e.jsx("h1",{children:"Error loading logs"});if(n)return e.jsx("div",{className:"h-dvh flex items-center justify-center",children:e.jsx("img",{src:u,width:27,height:27,className:"animate-spin"})});if(r)return e.jsx("div",{className:"px-0 pb-20",children:e.jsxs("div",{className:"w-full overflow-hidden border-t border-r-0 border-l-0 border-(--border-color) bg-(--darker-bg-color)",children:[x&&e.jsx("div",{children:r.map((s,t)=>e.jsxs("div",{className:"border-b border-gray-200/40 p-4 last:border-b-0 dark:border-gray-700/40",children:[e.jsx("div",{className:"mb-3 flex items-start justify-between",children:e.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-linear-to-br from-blue-500 to-purple-600 text-sm font-medium text-white",children:s.username?.charAt(0)?.toUpperCase()||"?"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:s.username||"Unknown"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Details"}),e.jsx("p",{className:"text-center text-sm",dir:"rtl",title:s.details,children:s.details})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:"URL"}),e.jsx("code",{className:"rounded-md bg-gray-100 px-2 py-1 font-mono text-xs break-all text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:s.visited})]})]})]},t))}),o&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",dir:"ltr",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-(--darker-bg-color) border-(--border-color)",children:[e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold ",children:"Username"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold ",children:"Details"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold ",children:"URL"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200/40 dark:divide-gray-700/40",children:r.map((s,t)=>e.jsxs("tr",{className:"transition-colors duration-150 hover:bg-gray-50/50 dark:hover:bg-gray-700/50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-linear-to-br from-blue-500 to-purple-600 text-sm font-medium text-white",children:s.username?.charAt(0)?.toUpperCase()||"?"}),e.jsx("span",{className:"text-sm font-medium ",children:s.username||"Unknown"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-center text-sm",dir:"rtl",title:s.details,children:s.details})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("code",{className:"rounded-md bg-gray-100 px-2 py-1 font-mono text-xs text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:s.visited})})]},t))})]})}),r.length===0&&e.jsx("div",{className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No logs found"})})]})})}export{j as default};
