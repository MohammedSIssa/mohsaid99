import{r as s,a as d,j as t,O as p}from"./index-X3OmstuP.js";import{E as h}from"./ErrorLoadingStories-CcXfctqk.js";import{L as S}from"./LoadingStories-BvqoOv-f.js";import{A as j}from"./globals-mhpEhTSX.js";import{f as y}from"./cache-UbEKbjRU.js";import{S as g}from"./Stories-DR_ZXGSW.js";const I=()=>{const[r,a]=s.useState(null),[c,n]=s.useState(!0),[f,u]=s.useState(null);function m(i){a(e=>e.filter(x=>x.id!==i))}const{type:o}=d();let l=`${j}/${o.slice(0,-1)}`;if(s.useEffect(()=>{async function i(){try{n(!0);const e=await y(l);a(e)}catch(e){a(null),u(e)}finally{n(!1)}}i()},[l]),c)return t.jsx(S,{});if(f)return t.jsx(h,{});if(r.length===0)return t.jsx("div",{className:"flex h-dvh items-center justify-center p-10",children:t.jsx("h1",{className:"text-3xl font-bold",dir:"ltr",children:"Server Error :/"})});if(r)return t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx(g,{data:r,type:o.slice(0,-1),onDeleteStory:m}),t.jsx(p,{context:{type:o.slice(0,-1),latestStory:r.length}})]})};export{I as default};
