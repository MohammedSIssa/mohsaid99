import{j as r,r as e,u as x}from"./index-Bu59DLIu.js";import{A as j}from"./globals-mhpEhTSX.js";const f=()=>r.jsx("span",{className:"pulsing"}),p=()=>{const[n,o]=e.useState(null),[c,a]=e.useState(!0),[d,h]=e.useState(null),{user:i}=x(),l=`${j}/logs`;if(e.useEffect(()=>{async function t(){try{a(!0);const u=await(await fetch(l,{method:"GET",headers:{Authorization:`Bearer ${i.apikey}`}})).json();o(u)}catch(s){console.error(s),h(s)}finally{a(!1)}}t()},[l,i.apikey]),c)return r.jsx(f,{});if(d)return r.jsx("h1",{children:"Error getting logs"});if(n.length===0)return r.jsx("h1",{children:"Empty log"});if(n.length>0)return r.jsxs("table",{className:"pb-5",dir:"ltr",children:[r.jsx("thead",{dir:"ltr",children:r.jsxs("tr",{children:[r.jsx("th",{children:"Username"}),r.jsx("th",{children:"Details"}),r.jsx("th",{children:"URL"})]})}),r.jsx("tbody",{dir:"ltr",children:n.map((t,s)=>r.jsxs("tr",{children:[r.jsx("td",{children:t.username}),r.jsx("td",{dir:"ltr",children:r.jsx("small",{children:t.details})}),r.jsx("td",{children:t.visited})]},s))})]})};export{p as default};
