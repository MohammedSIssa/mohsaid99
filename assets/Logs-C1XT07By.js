import{j as e,r as a,u as g,A as u}from"./index-DQfRmWPI.js";import{u as c}from"./useMediaQuery-Md44YTj-.js";function p(){const s=Array.from({length:20});return e.jsx("div",{className:"flex items-center justify-center pb-20",children:e.jsxs("table",{className:"w-full animate-pulse border-b-2 border-(--border-color)/20 shadow-xl shadow-black/10 md:w-[500px] md:border-2 [&_tr]:h-10",dir:"ltr",children:[e.jsx("thead",{dir:"ltr",children:e.jsxs("tr",{className:"bg-(--primary-color)/40 backdrop-blur-2xl [&_th]:p-5",children:[e.jsx("th",{}),e.jsx("th",{}),e.jsx("th",{})]})}),e.jsx("tbody",{dir:"ltr",className:"[&_td]:p-8 [&_tr]:p-8 [&_tr]:odd:bg-(--primary-color)/10 [&_tr]:even:bg-(--primary-color)/20",children:s.map((i,d)=>e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{dir:"ltr",children:e.jsx("small",{})}),e.jsx("td",{})]},d))})]})})}function f(){const[s,i]=a.useState(null),[d,n]=a.useState(!0),[o,l]=a.useState(!1),{user:x}=g(),m=c("(max-width: 767px)"),h=c("(min-width: 768px)");if(a.useEffect(()=>{async function r(){try{n(!0);const t=await fetch(u+"/log",{method:"GET",headers:{authorization:`Bearer: ${x?.apikey}`}});if(t.ok){const y=await t.json();i(y)}t.ok||(t.status>=400&&t.status<500&&l(!0),t.status>=500&&l(!0))}catch{l(!0)}finally{n(!1)}}r()},[x?.apikey]),o)return e.jsx("h1",{children:"Error loading logs"});if(d)return e.jsx(p,{});if(s)return e.jsx("div",{className:"px-0 pb-20",children:e.jsxs("div",{className:"w-full overflow-hidden border-t border-r-0 border-l-0 border-gray-200/60 bg-white/90 shadow-xl shadow-gray-200/30 backdrop-blur-sm dark:border-gray-700/60 dark:bg-gray-800/90 dark:shadow-gray-900/30",children:[m&&e.jsx("div",{children:s.map((r,t)=>e.jsxs("div",{className:"border-b border-gray-200/40 p-4 last:border-b-0 dark:border-gray-700/40",children:[e.jsx("div",{className:"mb-3 flex items-start justify-between",children:e.jsxs("div",{className:"flex flex-row-reverse items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-linear-to-br from-blue-500 to-purple-600 text-sm font-medium text-white",children:r.username?.charAt(0)?.toUpperCase()||"?"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.username||"Unknown"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Details"}),e.jsx("p",{className:"text-center text-sm text-gray-700 dark:text-gray-300",dir:"rtl",title:r.details,children:r.details})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-xs font-medium text-gray-500 dark:text-gray-400",children:"URL"}),e.jsx("code",{className:"rounded-md bg-gray-100 px-2 py-1 font-mono text-xs break-all text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:r.visited})]})]})]},t))}),h&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",dir:"ltr",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200/60 bg-gray-50/80 dark:border-gray-700/60 dark:bg-gray-900/80",children:[e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Username"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Details"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900 dark:text-gray-100",children:"URL"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200/40 dark:divide-gray-700/40",children:s.map((r,t)=>e.jsxs("tr",{className:"transition-colors duration-150 hover:bg-gray-50/50 dark:hover:bg-gray-700/50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-linear-to-br from-blue-500 to-purple-600 text-sm font-medium text-white",children:r.username?.charAt(0)?.toUpperCase()||"?"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.username||"Unknown"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-center text-sm text-gray-700 dark:text-gray-300",dir:"rtl",title:r.details,children:r.details})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("code",{className:"rounded-md bg-gray-100 px-2 py-1 font-mono text-xs text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:r.visited})})]},t))})]})}),s.length===0&&e.jsx("div",{className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No logs found"})})]})})}export{f as default};
