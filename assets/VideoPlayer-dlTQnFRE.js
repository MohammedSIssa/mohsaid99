import{r as l,j as n}from"./index-DHiQDtQN.js";const y="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='200px'%20height='200px'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20fill-rule='evenodd'%20d='M18.97%206.97a.75.75%200%200%201%201.06%200l-.53.53l.53-.53h.001l.001.002l.003.002l.007.007l.02.02l.062.069c.05.057.12.138.201.241A6.87%206.87%200%200%201%2021.75%2011.5a6.87%206.87%200%200%201-1.425%204.189a5%205%200%200%201-.264.31l-.02.02l-.006.007l-.003.002v.001h-.001l-.51-.508l.51.51a.75.75%200%201%201-1.061-1.061l.53.53l-.53-.53h-.001v.001l-.002.001l.005-.005l.033-.036q.048-.052.139-.167a5.37%205.37%200%200%200%20.448-5.843a5%205%200%200%200-.448-.685a3%203%200%200%200-.172-.203l-.005-.005a.75.75%200%200%201%20.003-1.058m-5.933-3.574c1.163-.767%202.713.068%202.713%201.461v14.286c0%201.394-1.55%202.228-2.713%201.461l-6-3.955a.25.25%200%200%200-.137-.042H4a2.75%202.75%200%200%201-2.75-2.75v-3.714A2.75%202.75%200%200%201%204%207.393h2.9a.25.25%200%200%200%20.138-.041z'%20clip-rule='evenodd'/%3e%3c/svg%3e",v="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='200px'%20height='200px'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23fff'%20fill-rule='evenodd'%20d='M17.47%209.47a.75.75%200%200%201%201.06%200L20%2010.94l1.47-1.47a.75.75%200%200%201%201.06%201.06L21.061%2012l1.47%201.47a.75.75%200%200%201-1.061%201.06L20%2013.06l-1.47%201.47a.75.75%200%200%201-1.06-1.06L18.94%2012l-1.47-1.47a.75.75%200%200%201%200-1.06m-4.433-6.074c1.163-.767%202.713.068%202.713%201.461v14.286c0%201.394-1.55%202.228-2.713%201.461l-6-3.955a.25.25%200%200%200-.137-.042H4a2.75%202.75%200%200%201-2.75-2.75v-3.714A2.75%202.75%200%200%201%204%207.393h2.9a.25.25%200%200%200%20.138-.041z'%20clip-rule='evenodd'/%3e%3c/svg%3e";function x({type:d,videoId:a}){const s=l.useRef(null),o=l.useRef(null),[c,i]=l.useState(!1),[e,f]=l.useState(null),[p,u]=l.useState(!0);l.useEffect(()=>{if(!s.current||typeof IntersectionObserver>"u"){i(!0);return}const t=new IntersectionObserver(([r])=>{r.isIntersecting&&(i(!0),t.disconnect())},{threshold:.5});return t.observe(s.current),()=>t.disconnect()},[]),l.useEffect(()=>{if(!c||typeof window>"u")return;const t=()=>{if(!o.current||!window.YT?.Player)return;const r=new window.YT.Player(o.current,{events:{onReady:()=>{f(r);try{r.mute()}catch{}}}})};if(window.YT?.Player)t();else{const r=document.createElement("script");r.src="https://www.youtube.com/iframe_api",r.async=!0,document.body.appendChild(r),window.onYouTubeIframeAPIReady=t}},[c]),l.useEffect(()=>{if(!e||!s.current||typeof IntersectionObserver>"u")return;const t=new IntersectionObserver(([r])=>{try{r.isIntersecting?e.playVideo?.():e.pauseVideo?.()}catch{}},{threshold:.5});return t.observe(s.current),()=>t.disconnect()},[e]);const w=()=>{if(e)try{e.getPlayerState?.()===1?e.pauseVideo?.():e.playVideo?.()}catch{}},h=t=>{if(t.stopPropagation(),!!e)try{e.isMuted?.()?(e.unMute?.(),u(!1)):(e.mute?.(),u(!0))}catch{}};if(!a)return null;const m=`https://www.youtube.com/embed/${a}?enablejsapi=1&autoplay=1&controls=0&loop=1&playlist=${a}&mute=1&rel=0&modestbranding=1`;return n.jsx("div",{ref:s,className:`${d} relative rounded-2xl`,onClick:w,children:c&&n.jsxs(n.Fragment,{children:[n.jsx("iframe",{ref:o,className:"h-full w-full rounded-2xl",src:m,title:"YouTube video player",allow:"autoplay; encrypted-media",allowFullScreen:!0}),n.jsx("button",{onClick:h,className:"absolute bottom-2 left-2 z-10 rounded-full bg-black/50 p-2 text-white",children:p?n.jsx("img",{src:v,width:25}):n.jsx("img",{src:y,width:25})})]})})}export{x as default};
