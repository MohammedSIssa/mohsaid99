import{j as r,r as a,u as x,A as u}from"./index-BsrpuMIH.js";function j(){const s=Array.from({length:20});return r.jsx("div",{className:"flex items-center justify-center pb-20",children:r.jsxs("table",{className:"w-full animate-pulse border-b-2 border-(--border-color)/20 shadow-xl shadow-black/10 md:w-[500px] md:border-2 [&_tr]:h-10",dir:"ltr",children:[r.jsx("thead",{dir:"ltr",children:r.jsxs("tr",{className:"bg-(--primary-color)/40 backdrop-blur-2xl [&_th]:p-5",children:[r.jsx("th",{}),r.jsx("th",{}),r.jsx("th",{})]})}),r.jsx("tbody",{dir:"ltr",className:"[&_td]:p-8 [&_tr]:p-8 [&_tr]:odd:bg-(--primary-color)/10 [&_tr]:even:bg-(--primary-color)/20",children:s.map((i,l)=>r.jsxs("tr",{children:[r.jsx("td",{}),r.jsx("td",{dir:"ltr",children:r.jsx("small",{})}),r.jsx("td",{})]},l))})]})})}function b(){const[s,i]=a.useState(null),[l,o]=a.useState(!0),[c,d]=a.useState(!1),{user:n}=x();if(a.useEffect(()=>{async function t(){try{o(!0);const e=await fetch(u+"/log",{method:"GET",headers:{authorization:`Bearer: ${n?.apikey}`}});if(e.ok){const h=await e.json();i(h)}e.ok||(e.status>=400&&e.status<500&&d(!0),e.status>=500&&d(!0))}catch{d(!0)}finally{o(!1)}}t()},[n?.apikey]),c)return r.jsx("h1",{children:"Error loading logs"});if(l)return r.jsx(j,{});if(s)return r.jsx("div",{className:"flex items-center justify-center pb-20",children:r.jsxs("table",{className:"w-full border-b-2 border-white/20 shadow-xl shadow-black/10 md:w-fit md:border-2",dir:"ltr",children:[r.jsx("thead",{dir:"ltr",children:r.jsxs("tr",{className:"bg-white/40 backdrop-blur-2xl",children:[r.jsx("th",{children:"Username"}),r.jsx("th",{children:"Details"}),r.jsx("th",{children:"URL"})]})}),r.jsx("tbody",{dir:"ltr",className:"[&_tr]:odd:bg-white/10 [&_tr]:even:bg-white/20",children:s.map((t,e)=>r.jsxs("tr",{children:[r.jsx("td",{children:t.username}),r.jsx("td",{dir:"ltr",children:r.jsx("small",{children:t.details})}),r.jsx("td",{children:t.visited})]},e))})]})})}export{b as default};
