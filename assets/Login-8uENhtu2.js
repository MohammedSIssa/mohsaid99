import{r as s,u as g,j as e,A as w,s as j}from"./index-Cx5xXpp5.js";import{F as y}from"./index-CLXSY5be.js";import"./iconBase-DWGuO11D.js";function k(){const[o,n]=s.useState(""),[a,i]=s.useState(""),[l,d]=s.useState(!1),[m,c]=s.useState(!1),[b,u]=s.useState(""),p=`border-2 border-white/10 bg-white/5 backdrop-blur-xl focus:outline-0 p-1 px-2 w-full rounded-lg ${l?"opacity-30":""} ${m?"border border-red-400":"border-0"}`,{setUser:h}=g();async function x(r){if(r.preventDefault(),!(!o.trim()||!a.trim()))try{u("جار تسجيل الدخول"),d(!0),c(!1);const t=await fetch(`${w}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:a})});if(!t.ok)throw new Error("Login failed");const f=await t.json();h(f),j(f)}catch(t){console.error(t),u("خطأ في تسجيل الدخول"),n(""),c(!0),i("")}finally{d(!1)}}return e.jsx("div",{className:"flex h-screen flex-col items-center justify-center md:h-fit md:p-20",children:e.jsxs("form",{onSubmit:x,className:"flex w-full flex-col items-center justify-center gap-4 border-t-2 border-b-2 border-white/20 bg-white/5 p-5 py-10 shadow-2xl shadow-black/20 backdrop-blur-xl md:w-[95%] md:max-w-[400px] md:rounded-xl md:border-2 [&_input]:shadow-xl [&_input]:shadow-black/10",children:[e.jsx(y,{size:50,className:"mb-10 text-violet-200/80 drop-shadow-2xl drop-shadow-violet-500"}),e.jsx("input",{className:p,value:o,dir:"ltr",onChange:r=>n(r.target.value),disabled:l,placeholder:"اسم المستخدم"}),e.jsx("input",{className:p,type:"password",dir:"ltr",value:a,onChange:r=>i(r.target.value),disabled:l,placeholder:"كلمة المرور"}),e.jsx("p",{children:b}),e.jsx("button",{type:"submit",className:"w-full cursor-pointer rounded-lg border-0 bg-linear-to-b from-[#5a36e9] via-[#805afe] to-[#5a36e9] p-1 px-2 hover:brightness-105 focus:outline-0",children:"سجل الدخول"})]})})}export{k as default};
